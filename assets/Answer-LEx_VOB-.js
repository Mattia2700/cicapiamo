import{d as _,c as m,b as v,k as y,n as b,r as c,o as w,j as C,f as d,t as B,a as i,w as p,e as h,l as $,P as D}from"./index-RxW6NONT.js";import{_ as T,B as O}from"./Bottom-NfRj4twl.js";import{_ as S}from"./Text.vue_vue_type_script_setup_true_lang-1FuTlSB4.js";const E="/assets/locked-sranDray.png",I={key:0,src:E,class:"max-h-[230px] mr-[6px]",alt:"disabled"},N={key:1,class:"max-h-[230px]",alt:"active"},A=_({__name:"AnswerButton",props:{disabled:Boolean},setup(r){const s=r;return(e,o)=>s.disabled?(v(),m("img",I)):(v(),m("img",N))}}),L=T(A,[["__scopeId","data-v-f3ef268c"]]),P=["disabled"],x=_({__name:"Point",props:{flavor:{},disabled:{type:Boolean}},emits:["click"],setup(r,{emit:s}){const e=r,o=s;return(n,a)=>(v(),m("button",{class:"h-[3.5rem] w-full rounded-2xl leading-[3.25rem] font-montserrat font-semibold text-[18px] uppercase",style:b(e.disabled?{color:e.flavor==="correct"?"#003324":"#330712",backgroundColor:e.flavor==="correct"?"#2e7b64":"#8e223c",cursor:"not-allowed"}:{color:e.flavor==="correct"?"#003324":"#330712",backgroundColor:e.flavor==="correct"?"#00dd9b":"#e93173"}),disabled:e.disabled,onClick:a[0]||(a[0]=t=>o("click"))},[y(n.$slots,"default")],12,P))}}),j={class:"w-full flex flex-col items-center"},z=d("span",{class:"ml-4 font-montserrat font-medium text-[16px]"},"Indovinate",-1),F={class:"mr-4 font-montserrat font-medium text-[24px]"},R=d("p",null,"Corretto",-1),V=d("span",{class:"w-6"},null,-1),W=_({__name:"Game",props:{disabled:{type:Boolean},score:{}},emits:["correct","wrong"],setup(r,{emit:s}){const e=r,o=s,n=c();w(()=>{a(),window.addEventListener("resize",a)}),C(()=>{window.removeEventListener("resize",a)});function a(){const t=document.getElementById("title"),l=getComputedStyle(t),u=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight);n.value=t.offsetWidth-u}return(t,l)=>(v(),m("div",j,[d("div",{class:"flex justify-between bg-[#322f37] leading-[3.8125rem] rounded-xl",style:b({width:n.value+"px"})},[z,d("span",F,B(e.score),1)],4),d("div",{class:"flex flex-row items-center mt-4 w-full",style:b({width:n.value+"px"})},[i(x,{flavor:"correct",disabled:e.disabled,onClick:l[0]||(l[0]=u=>o("correct"))},{default:p(()=>[R]),_:1},8,["disabled"]),V,i(x,{flavor:"wrong",disabled:e.disabled,onClick:l[1]||(l[1]=u=>o("wrong"))},{default:p(()=>[h("Sbagliato")]),_:1},8,["disabled"])],4)]))}}),G={class:"flex flex-col justify-center items-center w-full"},J=_({__name:"Answer",props:{otherDevice:{}},setup(r){const s=r,e=c(!1),o=c(!0),n=c(null),a=c(null),t=c(0),l=$();w(()=>{s.otherDevice.on("data",f=>{f.command==="start"?(t.value=0,o.value=!1):f.command==="passo"?(e.value=!1,o.value=!0):"score"in f&&(t.value=f.score)})});function u(){o.value||e.value||(s.otherDevice.send({command:"answer"}),e.value=!0,a.value=setTimeout(()=>{t.value>0&&t.value--,e.value=!e.value,o.value=!0,s.otherDevice.send({command:"continue"}),s.otherDevice.send({score:t.value})},1e4),n.value=l.info("Rispondi!",{position:D.BOTTOM_CENTER,icon:!1,timeout:1e4,closeOnClick:!1,pauseOnFocusLoss:!1,pauseOnHover:!1,draggable:!1,closeButton:!1}))}function g(){a.value&&(clearTimeout(a.value),l.dismiss(n.value)),t.value++,e.value=!1,o.value=!0,s.otherDevice.send({command:"continue"}),s.otherDevice.send({score:t.value})}function k(){a.value&&(clearTimeout(a.value),l.dismiss(n.value)),t.value>0&&t.value--,e.value=!1,o.value=!0,s.otherDevice.send({command:"continue"}),s.otherDevice.send({score:t.value})}return(f,M)=>(v(),m("div",G,[i(S,null,{default:p(()=>[h("Gioca !")]),_:1}),i(L,{disabled:o.value||e.value,onClick:u},null,8,["disabled"]),i(O,null,{default:p(()=>[i(W,{score:t.value,disabled:o.value||!e.value,onCorrect:g,onWrong:k},null,8,["score","disabled"])]),_:1})]))}});export{J as default};
